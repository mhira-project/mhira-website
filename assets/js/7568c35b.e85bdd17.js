"use strict";(self.webpackChunkmhira_website=self.webpackChunkmhira_website||[]).push([[5234],{1680:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var s=t(4848),o=t(8453);const a={},r="Admin Password Reset",i={id:"installation-guide/admin-password-reset",title:"Admin Password Reset",description:"If the superadmin account password is lost or blocked, you can connect to the postgres database via commandline to reset the password.",source:"@site/docs/4-installation-guide/7-admin-password-reset.md",sourceDirName:"4-installation-guide",slug:"/installation-guide/admin-password-reset",permalink:"/docs/installation-guide/admin-password-reset",draft:!1,unlisted:!1,editUrl:"https://github.com/mhira-project/documentation/edit/main/docs/4-installation-guide/7-admin-password-reset.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Data and Backup",permalink:"/docs/installation-guide/data-and-backup"},next:{title:"rstudio",permalink:"/docs/installation-guide/rstudio"}},d={},c=[];function l(e){const n={code:"code",h1:"h1",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"admin-password-reset",children:"Admin Password Reset"}),"\n",(0,s.jsxs)(n.p,{children:["If the ",(0,s.jsx)(n.code,{children:"superadmin"})," account password is lost or blocked, you can connect to the postgres database via commandline to reset the password."]}),"\n",(0,s.jsx)(n.p,{children:"First, please navigate to the folder containing the docker and docker-compose (.yml) files of the MHIRA installation (the one cloned from github)."}),"\n",(0,s.jsx)(n.p,{children:"Run"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Connect to postgres using psql CLI tool\ndocker compose exec postgres psql '-Udefault'\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"This will open the PSQL prompt. In the PSQL prompt, run the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-psql",children:'# connect to default database\n\\c default\n\n#Update password to default value of \'superadmin\'\nUPDATE "public"."user" \n    set "active" = true, \n    "passwordExpiresAt" = now(), \n    "password" = \'$argon2id$v=19$m=16,t=2,p=1$eUxBQXd3bTVhYTU5c2pKUQ$s4pcrRM4RTbfEBV//JpcIw\' \nWHERE "isSuperUser" = true;\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Finally, login to MHIRA portal with username: ",(0,s.jsx)(n.code,{children:"superadmin"})," and password ",(0,s.jsx)(n.code,{children:"superadmin"})," and change your password."]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>i});var s=t(6540);const o={},a=s.createContext(o);function r(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);